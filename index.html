<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Website</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif:ital,wght@0,100;0,200;0,300;0,400;0,700;1,100;1,200;1,300;1,400;1,700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <audio id="music" loop>
        <source src="music.wav" type="audio/wav">
    </audio>

    <script>
        document.addEventListener('mousemove', function() {
            document.getElementById('music').play();
        }, { once: true });
    </script>
    <main>
        <!-- Hero Video Section -->
        <section id="hero-video" class="hero-section">
            <div class="video-container">
                <video id="heroVideo" autoplay muted loop playsinline>
                    <source src="videos/hero-video.mp4" type="video/mp4">
                    <source src="videos/hero-video.webm" type="video/webm">
                    Your browser does not support the video tag.
                </video>
                <div class="video-overlay">
                    <div class="hero-content">
                        <h1>slwy</h1>
                        <p>appreciating the little things</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="home" class="text-section">
            <h2>About slwy</h2>
            <p>Think of this as your weekend house party — good vibes, great food, live music, and even better company. It's a laid-back gathering where everyone's welcome to hang out, mingle, and just enjoy the moment. Whether you're here for the chats, the tunes, or just to chill, this is your space to feel at home.</p>
        </section>

        <section id="about" class="text-section">
            <h2>Our Mission</h2>
            <p>To bring people together in a relaxed, welcoming setting where connections can grow naturally. We want everyone to feel a stronger sense of belonging, make new memories, and most of all — have fun.</p>
        </section>

        <!-- Event Details Section -->
        <section id="event-details" class="event-section">
            <div class="event-container">
                <h2>Event Details</h2>
                <div class="event-info">
                    <div class="event-item">
                        <div class="event-icon"><i class="fa-sharp-duotone fa-solid fa-calendar-week"></i></div>
                        <div class="event-content">
                            <h3>Date</h3>
                            <p>Saturday, December 27th, 2025</p>
                        </div>
                    </div>
                    <div class="event-item">
                        <div class="event-icon"><i class="fa-sharp-duotone fa-solid fa-clock"></i></div>
                        <div class="event-content">
                            <h3>Time</h3>
                            <p>1:00 PM - 4:00 PM</p>
                        </div>
                    </div>
                    <div class="event-item">
                        <div class="event-icon"><i class="fa-sharp-duotone fa-solid fa-location-dot"></i></div>
                        <div class="event-content">
                            <h3>Location</h3>
                            <p>Hall of Jewels<br>BW Monastery</p>
                        </div>
                    </div>
                    <div class="event-item">
                        <div class="event-icon"><i class="fa-sharp-duotone fa-solid fa-ticket"></i></div>
                        <div class="event-content">
                            <h3>Tickets</h3>
                            <p>Free Entry<br>Registration Required</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Music Section - Left aligned with rotating photos -->
        <section id="music" class="content-section">
            <div class="content-wrapper">
                <div class="text-content">
                    <h2>Music</h2>
                    <p>Music is the universal language that connects souls across cultures and generations. From classical symphonies to modern beats, we explore the rhythms that move us and the melodies that define our experiences. Each note tells a story, each song creates a memory.</p>
                </div>
                <div class="media-content">
                    <div class="photo-carousel">
                        <div class="photo-slide active">
                            <img src="images/music1.jpg" alt="Music Photo 1">
                        </div>
                        <div class="photo-slide">
                            <img src="images/music2.jpg" alt="Music Photo 2">
                        </div>
                        <div class="photo-slide">
                            <img src="images/music3.jpg" alt="Music Photo 3">
                        </div>
                        <div class="photo-slide">
                            <img src="images/music4.jpg" alt="Music Photo 4">
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Food Section - Right aligned with rotating photos -->
        <section id="food" class="content-section">
            <div class="content-wrapper">
                <div class="media-content">
                    <div class="photo-carousel">
                        <div class="photo-slide active">
                            <img src="images/food1.jpg" alt="Food Photo 1">
                        </div>
                        <div class="photo-slide">
                            <img src="images/food2.jpg" alt="Food Photo 2">
                        </div>
                        <div class="photo-slide">
                            <img src="images/food3.jpg" alt="Food Photo 3">
                        </div>
                    </div>
                </div>
                <div class="text-content">
                    <h2>Food</h2>
                    <p>Food is more than sustenance—it's culture, creativity, and connection. From street food adventures to fine dining experiences, we celebrate the artistry of flavor and the joy of sharing meals. Every dish has a story, every taste brings people together.</p>
                </div>
            </div>
        </section>

        <!-- Chill Section - Left aligned with video -->
        <section id="chill" class="content-section">
            <div class="content-wrapper">
                <div class="text-content">
                    <h2>Chill</h2>
                    <p>In our fast-paced world, finding moments to simply breathe and be present is essential. Whether it's watching clouds drift by, feeling sand between your toes, or enjoying quiet conversations with friends, these peaceful moments restore our souls and remind us what truly matters.</p>
                </div>
                <div class="media-content">
                    <video autoplay muted loop playsinline>
                        <source src="videos/chill-video.mp4" type="video/mp4">
                        <source src="videos/chill-video.webm" type="video/webm">
                        Your browser does not support the video tag.
                    </video>
                </div>
            </div>
        </section>

        <section id="contact" class="contact-section">
            <h2>Registration</h2>
            <p>join us for a good time!</p>
            <form id="contactForm" class="alternating-form">
                <div class="input-group">
                    <input type="text" id="name" placeholder="your name" required>
                </div>
                <div class="input-group">
                    <input type="text" id="class" placeholder="your class" required>
                </div>
                <div class="input-group">
                    <textarea id="message" placeholder="your message" required></textarea>
                </div>
                <div class="button-container">
                    <button type="submit">send message</button>
                </div>
            </form>
        </section>
    </main>

    <footer>
        <p>&copy; 2025 daybyday. All rights reserved.</p>
    </footer>

    
    <script>
    // Wait for the DOM to be fully loaded
    document.addEventListener('DOMContentLoaded', function() {
        console.log('DOM loaded, initializing carousels...');
        
        // Get elements
        const contactForm = document.getElementById('contactForm');
        const heroVideo = document.getElementById('heroVideo');
        
        // Photo carousel functionality - handles multiple carousels
        function initPhotoCarousels() {
            const carousels = document.querySelectorAll('.photo-carousel');
            console.log(`Found ${carousels.length} carousels`);
            
            carousels.forEach((carousel, carouselIndex) => {
                const slides = carousel.querySelectorAll('.photo-slide');
                console.log(`Carousel ${carouselIndex + 1} has ${slides.length} slides`);
                
                let currentSlide = 0;
                
                if (slides.length > 0) {
                    if (carousel.intervalId) {
                        clearInterval(carousel.intervalId);
                    }
                    
                    slides.forEach(slide => slide.classList.remove('active'));
                    slides[0].classList.add('active');
                    
                    function showNextSlide() {
                        console.log(`Carousel ${carouselIndex + 1}: showing slide ${currentSlide} -> ${(currentSlide + 1) % slides.length}`);
                        
                        slides[currentSlide].classList.remove('active');
                        currentSlide = (currentSlide + 1) % slides.length;
                        slides[currentSlide].classList.add('active');
                    }
                    
                    carousel.intervalId = setInterval(showNextSlide, 2000);
                    console.log(`Carousel ${carouselIndex + 1} initialized with ${slides.length} slides`);
                } else {
                    console.error(`Carousel ${carouselIndex + 1} has no slides!`);
                }
            });
        }
        
        // Initialize carousels
        initPhotoCarousels();
        
        // Video optimization for mobile
        function optimizeVideoForDevice() {
            const videos = document.querySelectorAll('video');
            
            videos.forEach(video => {
                const observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            video.play().catch(e => console.log('Video play failed:', e));
                        } else {
                            video.pause();
                        }
                    });
                });
                
                observer.observe(video);
            });
        }
        
        // Initialize video optimizations
        optimizeVideoForDevice();
        
        // Form submission to Google Sheets
        if (contactForm) {
            contactForm.addEventListener('submit', function(e) {
                e.preventDefault();
                
                const name = document.getElementById('name').value;
                const classValue = document.getElementById('class').value;
                const message = document.getElementById('message').value;
                
                if (name && classValue && message) {
                    // Disable submit button to prevent double submission
                    const submitButton = contactForm.querySelector('button[type="submit"]');
                    const originalText = submitButton.textContent;
                    submitButton.textContent = 'Submitting...';
                    submitButton.disabled = true;
                    
                    // 🔴 REPLACE THIS URL WITH YOUR GOOGLE APPS SCRIPT URL 🔴
                    const googleAppsScriptURL = 'https://script.google.com/macros/s/AKfycbzBCDXB1eYydwmks1-WnarvZVRsyKhNRhgcUd3B1TRvrGmIsS1K_nB73OZdF6WEYrRC/exec';
                    
                    // Prepare data as FormData (same as your working test)
                    const formData = new FormData();
                    formData.append('Name', name);
                    formData.append('Class', classValue);
                    formData.append('Message', message);
                    formData.append('Timestamp', new Date().toLocaleString());
                    
                    console.log('Submitting data:', {name, classValue, message});
                    
                    fetch(googleAppsScriptURL, {
                        method: 'POST',
                        body: formData
                    })
                    .then(response => {
                        console.log('Response status:', response.status);
                        
                        if (!response.ok) {
                            throw new Error(`HTTP error! status: ${response.status}`);
                        }
                        return response.text(); // Changed from .json() to .text()
                    })
                    .then(data => {
                        console.log('Response data:', data);
                        
                        // Parse the JSON response
                        const parsedData = JSON.parse(data);
                        
                        if (parsedData.status === 'success') {
                            alert(`Thank you, ${name}! Your registration has been recorded.`);
                            contactForm.reset();
                        } else {
                            throw new Error(parsedData.message || 'Submission failed');
                        }
                    })
                    .catch(error => {
                        console.error('Submission error:', error);
                        
                        let errorMessage = 'There was an error submitting your registration. ';
                        
                        if (error.message.includes('404')) {
                            errorMessage += 'The submission URL is not found. Please check the Google Apps Script deployment.';
                        } else if (error.message.includes('400')) {
                            errorMessage += 'Bad request - there may be an issue with the data format.';
                        } else if (error.message.includes('403')) {
                            errorMessage += 'Permission denied - please check the Google Apps Script permissions.';
                        } else if (error.message.includes('Failed to fetch')) {
                            errorMessage += 'Network error - please check your internet connection.';
                        } else {
                            errorMessage += 'Please try again or contact support.';
                        }
                        
                        alert(errorMessage);
                    })
                    .finally(() => {
                        // Re-enable submit button
                        submitButton.textContent = originalText;
                        submitButton.disabled = false;
                    });
                } else {
                    alert('Please fill in all fields.');
                }
            });
        }
        
        // Smooth scrolling for navigation links (only if navigation exists)
        const navLinks = document.querySelectorAll('nav a[href^="#"]');
        
        // Handle window resize AND orientation changes
        let resizeTimeout;
        window.addEventListener('resize', function() {
            clearTimeout(resizeTimeout);
            resizeTimeout = setTimeout(function() {
                console.log('Window resized/orientation changed, reinitializing carousels...');
                optimizeVideoForDevice();
                initPhotoCarousels();
            }, 500);
        });
        
        // Touch-friendly interactions
        if ('ontouchstart' in window) {
            document.body.classList.add('touch-device');
        }
    });
    </script>
</body>
</html>
